version = '3.1.0-20190731'
apply plugin: 'java'
apply plugin: 'idea'
sourceCompatibility = 1.5
ext.rundeckPluginVersion= '1.2'


repositories {
    mavenLocal()
    mavenCentral()
}

dependencies {
    compile( [group: 'org.rundeck', name: 'rundeck-core', version: version, ext:'jar'])
    compile files('libs/gson-2.8.5.jar')
}

ext.pluginClassNames='com.tomowang.rundeck.plugins.LarkNotificationPlugin'
jar {
    manifest {
        attributes 'Rundeck-Plugin-Classnames': pluginClassNames
        attributes 'Rundeck-Plugin-File-Version': version
        attributes 'Rundeck-Plugin-Version': rundeckPluginVersion
        attributes 'Rundeck-Plugin-Archive': 'true'
        attributes 'Rundeck-Plugin-Libs': 'libs/gson-2.8.5.jar'
    }
}

//processResources {
//    from('resources') { into 'resources' }
//}

 jar {
     into('libs') {
         from 'libs'
     }
 }
